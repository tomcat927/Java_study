# 设计一个抽奖系统，奖品123，概率分别为1%，2%，3%，具体讲一下怎么设计

## <font style="color:rgba(6, 8, 31, 0.88);">1. 奖品及概率设计</font>
<font style="color:rgba(6, 8, 31, 0.88);">假设奖品列表如下：</font>

| **<font style="color:rgba(6, 8, 31, 0.88);">奖品ID</font>** | **<font style="color:rgba(6, 8, 31, 0.88);">奖品名称</font>** | **<font style="color:rgba(6, 8, 31, 0.88);">概率（%）</font>** |
| :---: | :---: | :---: |
| <font style="color:rgba(6, 8, 31, 0.88);">1</font> | <font style="color:rgba(6, 8, 31, 0.88);">奖品1</font> | <font style="color:rgba(6, 8, 31, 0.88);">1%</font> |
| <font style="color:rgba(6, 8, 31, 0.88);">2</font> | <font style="color:rgba(6, 8, 31, 0.88);">奖品2</font> | <font style="color:rgba(6, 8, 31, 0.88);">2%</font> |
| <font style="color:rgba(6, 8, 31, 0.88);">3</font> | <font style="color:rgba(6, 8, 31, 0.88);">奖品3</font> | <font style="color:rgba(6, 8, 31, 0.88);">3%</font> |


**<font style="color:rgba(6, 8, 31, 0.88);">剩下的94%为未中奖。</font>**

---

## <font style="color:rgba(6, 8, 31, 0.88);">2. 概率实现思路</font>
### **<font style="color:rgba(6, 8, 31, 0.88);">常见做法：区间加权随机</font>**
+ <font style="color:rgba(6, 8, 31, 0.88);">以10000为单位（更高精度），把概率分配到一个[1, 10000]的区间上。</font>
+ <font style="color:rgba(6, 8, 31, 0.88);">奖品1占100（1%），奖品2占200（2%），奖品3占300（3%），剩下9400为未中奖。</font>

### **<font style="color:rgba(6, 8, 31, 0.88);">实现步骤</font>**
1. **<font style="color:rgba(6, 8, 31, 0.88);">构建奖品区间</font>**
    - <font style="color:rgba(6, 8, 31, 0.88);">奖品1：1 ~ 100</font>
    - <font style="color:rgba(6, 8, 31, 0.88);">奖品2：101 ~ 300</font>
    - <font style="color:rgba(6, 8, 31, 0.88);">奖品3：301 ~ 600</font>
    - <font style="color:rgba(6, 8, 31, 0.88);">未中奖：601 ~ 10000</font>
2. **<font style="color:rgba(6, 8, 31, 0.88);">抽奖算法</font>**
    - <font style="color:rgba(6, 8, 31, 0.88);">随机生成一个1~10000的整数N</font>
    - <font style="color:rgba(6, 8, 31, 0.88);">判断N落在哪个区间就中哪个奖品，否则为未中奖</font>

---

## <font style="color:rgba(6, 8, 31, 0.88);">3. 数据结构设计示例</font>
### <font style="color:rgba(6, 8, 31, 0.88);">奖品配置表（支持动态配置）</font>
| **<font style="color:rgba(6, 8, 31, 0.88);">id</font>** | **<font style="color:rgba(6, 8, 31, 0.88);">name</font>** | **<font style="color:rgba(6, 8, 31, 0.88);">probability</font>** | **<font style="color:rgba(6, 8, 31, 0.88);">weight区间 （自动生成）</font>** |
| --- | --- | --- | --- |
| <font style="color:rgba(6, 8, 31, 0.88);">1</font> | <font style="color:rgba(6, 8, 31, 0.88);">奖品1</font> | <font style="color:rgba(6, 8, 31, 0.88);">0.01</font> | <font style="color:rgba(6, 8, 31, 0.88);">1-100</font> |
| <font style="color:rgba(6, 8, 31, 0.88);">2</font> | <font style="color:rgba(6, 8, 31, 0.88);">奖品2</font> | <font style="color:rgba(6, 8, 31, 0.88);">0.02</font> | <font style="color:rgba(6, 8, 31, 0.88);">101-300</font> |
| <font style="color:rgba(6, 8, 31, 0.88);">3</font> | <font style="color:rgba(6, 8, 31, 0.88);">奖品3</font> | <font style="color:rgba(6, 8, 31, 0.88);">0.03</font> | <font style="color:rgba(6, 8, 31, 0.88);">301-600</font> |


### <font style="color:rgba(6, 8, 31, 0.88);">实体代码结构简单示范（伪代码）</font>
```java
prizes = [
  {"id": 1, "name": "奖品1", "start": 1, "end": 100},
  {"id": 2, "name": "奖品2", "start": 101, "end": 300},
  {"id": 3, "name": "奖品3", "start": 301, "end": 600}
]
```

---

## <font style="color:rgba(6, 8, 31, 0.88);">4. 抽奖逻辑流程</font>
1. **<font style="color:rgba(6, 8, 31, 0.88);">读取奖品配置</font>**<font style="color:rgba(6, 8, 31, 0.88);">，自动累计概率分配权重区间。</font>
2. **<font style="color:rgba(6, 8, 31, 0.88);">用户点击抽奖</font>**<font style="color:rgba(6, 8, 31, 0.88);">时：生成随机数R。</font>
3. **<font style="color:rgba(6, 8, 31, 0.88);">区间查找</font>**<font style="color:rgba(6, 8, 31, 0.88);">（可二分查找优化）：哪个区间包含R，给哪个奖品。</font>
4. **<font style="color:rgba(6, 8, 31, 0.88);">概率没覆盖的区间就是未中奖。</font>**

**<font style="color:rgba(6, 8, 31, 0.88);">示例：</font>**

```java
import java.util.Random;

public class Main {
    public static void main(String[] args) {
        System.out.println(draw());
    }

    public static String draw() {
        Random random = new Random();
        int n = random.nextInt(10000) + 1; // 生成1到10000之间的随机数

        if (n >= 1 && n <= 100) {
            return "奖品1";
        } else if (n >= 101 && n <= 300) {
            return "奖品2";
        } else if (n >= 301 && n <= 600) {
            return "奖品3";
        } else {
            return "未中奖";
        }
    }
}
```



> 更新: 2025-06-10 15:47:48  
> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/cuplk7tq0tfbfgk1>